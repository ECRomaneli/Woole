// Version: 2.1.2
(e=>{let t=function(){var n,e={},t=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e===t&&r:t.has(e))return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n;throw new TypeError("Cannot write private member to an object whose class did not declare it")},i=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e===t&&i:t.has(e))return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e);throw new TypeError("Cannot read private member from an object whose class did not declare it")};Object.defineProperty(e,"__esModule",{value:!0});let a=":",d="*",u="~";let l=")",r='"',o=""+r+r,f=".";var s,c,v;let h=/^[^-\d]*(-?\d+(\.\d+)?)?[^-\d]*-[^-\d]*(-?\d+(\.\d+)?)?[^-\d]*$/,w=new RegExp(` *(not)? *(\\()| *(not +)?(?:((?:\\\\.|[^ (${l}\\\\${d}${u}${r}${a}])+) *([${d}${u}]?${a}))? *(${r}((?:\\\\.|[^${r}\\\\])+)${r}?|(?:\\\\.|[^ (${l}\\\\])+)? *(and|or|\\${l}|$)`,"g"),m={GROUP_NEGATED:1,GROUP_START:2,NEGATED:3,KEY:4,TYPE:5,VALUE:6,QUOTED_VALUE:7,OPERATOR:8},p=-1,E="",y="string",g="number",O="boolean",T="bigint",R="object";class A{constructor(){this.conditions=[],this.operator=void 0}lastCondition(){return this.conditions[this.conditions.length-1]}}(c=s=s||{}).AND="and",c.OR="or",(v=s=s||{}).from=function(e){return e!==v.OR?v.AND:v.OR};class x{constructor(e={}){n.set(this,void 0),t(this,n,e,"f")}search(e,t){return x.search(e,t,i(this,n,"f"))}static search(e,t,n={}){return e?t&&t.trim()!==E?(void 0===n.allowNumericString&&(n.allowNumericString=!0),void 0===n.allowKeyValueMatching&&(n.allowKeyValueMatching=!0),[...P(new Set(e),function t(n,i=new RegExp(w),r=new A){let o;for(;null!==(o=i.exec(n))&&o[0]!==E;)if(o[m.GROUP_START]){let e=t(n,i);e.negated=!!o[m.GROUP_NEGATED],r.conditions.push(e)}else{let t=o[m.KEY],n=o[m.QUOTED_VALUE]||void 0;if(void 0===t?t=void 0!==n?f:U(o[m.VALUE]):void 0===n&&(n=U(o[m.VALUE])),t||n){let e=o[m.TYPE]&&o[m.TYPE]!==a?o[m.TYPE].charAt(0):void 0;r.conditions.push(b(!!o[m.NEGATED],e,t,n))}if(o[m.OPERATOR]===l)break;o[m.OPERATOR]&&(r.lastCondition().operator=s.from(o[m.OPERATOR]))}return r}(t.toLowerCase()),n)]):e.slice():[]}}function P(t,n,i){if(0===n.conditions.length)return n.negated?new Set:t;let r=$(t,n.conditions[0],i);for(let e=1;e<n.conditions.length;e++){var o,a=n.conditions[e],l=n.conditions[e-1].operator;if(l&&l===s.OR)for(o of $(t,a,i))r.add(o);else r=$(r,a,i)}if(!n.negated)return r;var e,d=new Set;for(e of t)r.has(e)||d.add(e);return d}function $(e,t,n){if("conditions"in t)return P(e,t,n);var i,r=new Set;for(i of e)t.negated!==function t(n,i,r,o,a){if(null==n||typeof n!==R)return!1;let e=Object.keys(n);r+=f;for(var l of e){let e=r+l.toLowerCase();if(!N(e,o.excludeKeys)){if(void 0===a){if(e.indexOf(i.key)===p){if(t(n[l],i,e,o))return!0;if(o.allowKeyValueMatching&&void 0===i.value&&_(i.key,n[l],i.type,o))return!0;continue}if(void 0===i.value)return!0}if(_(i.value,n[l],i.type,o)||t(n[l],i,e,o,!0))return!0}}return!1}(i,t,E,n)&&r.add(i);return r}function b(t,e,n,i){t={negated:t,key:S(n),type:e,value:S(i)};if(t.type)if(t.value&&t.value.trim()!==E)if(t.type===d)try{t.value=new RegExp(t.value,"i")}catch(e){delete t.type,delete t.value}else{n=t.value.match(h);(!n||(t.value={min:parseFloat(n[1]),max:parseFloat(n[3])},t.value.min||0===t.value.min||delete t.value.min,t.value.max||0===t.value.max||delete t.value.max,void 0===t.value.min&&void 0===t.value.max))&&(delete t.type,delete t.value)}else delete t.type,delete t.value;return t}function _(e,t,n,i){if(null!=t){var r,o,a=typeof t;if(a!==R)return n===u?!(a!==g&&a!==T&&(!i.allowNumericString||a!==y||isNaN(t=+t)))&&(o=t,void 0===(r=e).min||void 0===r.max?void 0===r.min?o<=r.max:o>=r.min:o>=r.min&&o<=r.max):n===d?e.test(t):a===y?(""+t).toLowerCase().indexOf(e)!==p:(a===g||a===T||a===O)&&(""+t).indexOf(e)!==p;if(i.matchChildKeysAsValues)for(var l of Object.keys(t))if(_(e,l,n,i))return!0}return!1}function N(e,t){if(t)for(var n of t)if(e.endsWith(n))return!0;return!1}function S(e){return e&&e.replace(/\\(.)/g,"$1")}function U(e){return e!==o&&e!==r?e:void 0}return n=new WeakMap,e.default=x,e.default}();"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):e.SearchEngine=t})("undefined"!=typeof window?window:this);
//# sourceMappingURL=search-engine.min.js.map